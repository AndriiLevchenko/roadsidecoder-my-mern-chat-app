{"ast":null,"code":"var _jsxFileName = \"C:\\\\React\\\\roadsidecoder-my-mern-chat-app\\\\frontend\\\\src\\\\components\\\\SingleChat.js\",\n  _s = $RefreshSig$();\nimport { FormControl } from \"@chakra-ui/form-control\";\nimport { Input } from \"@chakra-ui/react\";\nimport { Box, Text } from \"@chakra-ui/layout\";\nimport \"../index.css\";\nimport { IconButton, Spinner, useToast } from \"@chakra-ui/react\";\nimport { getSender, getSenderFull } from \"../config/ChatLogics\";\nimport { useEffect, useState } from \"react\";\nimport { ArrowBackIcon } from \"@chakra-ui/icons\";\nimport ProfileModal from \"./miscellaneous/ProfileModal\";\nimport animationData from \"../animations/typing.json\";\n\n//import UpdateGroupChatModal from \"./miscellaneous/UpdateGroupChatModal\";\nimport { ChatState } from \"../Context/ChatProvider\";\nimport UpdateGroupChatModal from \"./miscellaneous/UpdateGroupChatModal\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SingleChat = ({\n  fetchAgain,\n  setFetchAgain\n}) => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [newMessage, setNewMessage] = useState(\"\");\n  const [socketConnected, setSocketConnected] = useState(false);\n  const [typing, setTyping] = useState(false);\n  const [istyping, setIsTyping] = useState(false);\n  const toast = useToast();\n  const defaultOptions = {\n    loop: true,\n    autoplay: true,\n    animationData: animationData,\n    rendererSettings: {\n      preserveAspectRatio: \"xMidYMid slice\"\n    }\n  };\n  const {\n    selectedChat,\n    setSelectedChat,\n    user,\n    notification,\n    setNotification\n  } = ChatState();\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: selectedChat ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Text, {\n        fontSize: {\n          base: \"28px\",\n          md: \"30px\"\n        },\n        pb: 3,\n        px: 2,\n        w: \"100%\",\n        fontFamily: \"Work sans\",\n        display: \"flex\",\n        justifyContent: {\n          base: \"space-between\"\n        },\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          display: {\n            base: \"flex\",\n            md: \"none\"\n          },\n          icon: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 35\n          }, this),\n          onClick: () => setSelectedChat(\"\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }, this), \"!!messages\" && (!selectedChat.isGroupChat ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [getSender(user, selectedChat.users), /*#__PURE__*/_jsxDEV(ProfileModal, {\n            user: getSenderFull(user, selectedChat.users)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [selectedChat.chatName.toUpperCase(), /*#__PURE__*/_jsxDEV(UpdateGroupChatModal, {\n            fetchMessages: fetchMessages,\n            fetchAgain: fetchAgain,\n            setFetchAgain: setFetchAgain\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        flexDir: \"column\",\n        justifyContent: \"flex-end\",\n        p: 3,\n        bg: \"#E8E8E8\",\n        w: \"100%\",\n        h: \"100%\",\n        borderRadius: \"lg\",\n        overflowY: \"hidden\",\n        children: [loading ? /*#__PURE__*/_jsxDEV(Spinner, {\n          size: \"xl\",\n          w: 20,\n          h: 20,\n          alignSelf: \"center\",\n          margin: \"auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"messages\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(FormControl\n        // onKeyDown={sendMessage}\n        , {\n          id: \"first-name\",\n          isRequired: true,\n          mt: 3,\n          children: [istyping ? /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 33\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(Input, {\n            variant: \"filled\",\n            bg: \"#E0E0E0\",\n            placeholder: \"Enter a message..\",\n            value: newMessage\n            // onChange={typingHandler}\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true) :\n    /*#__PURE__*/\n    // to get socket.io on same page\n    _jsxDEV(Box, {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      h: \"100%\",\n      children: /*#__PURE__*/_jsxDEV(Text, {\n        fontSize: \"3xl\",\n        pb: 3,\n        fontFamily: \"Work sans\",\n        children: \"Click on a user to start chatting\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }, this)\n  }, void 0, false);\n};\n_s(SingleChat, \"yNJQsvQCi34jhLZJXqwA4QezNxw=\", false, function () {\n  return [useToast];\n});\n_c = SingleChat;\nexport default SingleChat;\nvar _c;\n$RefreshReg$(_c, \"SingleChat\");","map":{"version":3,"names":["FormControl","Input","Box","Text","IconButton","Spinner","useToast","getSender","getSenderFull","useEffect","useState","ArrowBackIcon","ProfileModal","animationData","ChatState","UpdateGroupChatModal","jsxDEV","_jsxDEV","Fragment","_Fragment","SingleChat","fetchAgain","setFetchAgain","_s","messages","setMessages","loading","setLoading","newMessage","setNewMessage","socketConnected","setSocketConnected","typing","setTyping","istyping","setIsTyping","toast","defaultOptions","loop","autoplay","rendererSettings","preserveAspectRatio","selectedChat","setSelectedChat","user","notification","setNotification","children","fontSize","base","md","pb","px","w","fontFamily","display","justifyContent","alignItems","icon","fileName","_jsxFileName","lineNumber","columnNumber","onClick","isGroupChat","users","chatName","toUpperCase","fetchMessages","flexDir","p","bg","h","borderRadius","overflowY","size","alignSelf","margin","className","id","isRequired","mt","variant","placeholder","value","_c","$RefreshReg$"],"sources":["C:/React/roadsidecoder-my-mern-chat-app/frontend/src/components/SingleChat.js"],"sourcesContent":["import { FormControl } from \"@chakra-ui/form-control\";\r\nimport { Input } from \"@chakra-ui/react\";\r\nimport { Box, Text } from \"@chakra-ui/layout\";\r\nimport \"../index.css\";\r\nimport { IconButton, Spinner, useToast } from \"@chakra-ui/react\";\r\nimport { getSender, getSenderFull } from \"../config/ChatLogics\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { ArrowBackIcon } from \"@chakra-ui/icons\";\r\nimport ProfileModal from \"./miscellaneous/ProfileModal\";\r\n\r\nimport animationData from \"../animations/typing.json\";\r\n\r\n//import UpdateGroupChatModal from \"./miscellaneous/UpdateGroupChatModal\";\r\nimport { ChatState } from \"../Context/ChatProvider\";\r\nimport UpdateGroupChatModal from \"./miscellaneous/UpdateGroupChatModal\";\r\n\r\nconst SingleChat = ({ fetchAgain, setFetchAgain }) => {\r\n    const [messages, setMessages] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [newMessage, setNewMessage] = useState(\"\");\r\n    const [socketConnected, setSocketConnected] = useState(false);\r\n    const [typing, setTyping] = useState(false);\r\n    const [istyping, setIsTyping] = useState(false);\r\n    const toast = useToast();\r\n\r\n    const defaultOptions = {\r\n        loop: true,\r\n        autoplay: true,\r\n        animationData: animationData,\r\n        rendererSettings: {\r\n            preserveAspectRatio: \"xMidYMid slice\",\r\n        },\r\n    };\r\n    const { selectedChat, setSelectedChat, user, notification, setNotification } =\r\n        ChatState();\r\n    return (\r\n        <>\r\n            {selectedChat ? (\r\n                <>\r\n                    <Text\r\n                        fontSize={{ base: \"28px\", md: \"30px\" }}\r\n                        pb={3}\r\n                        px={2}\r\n                        w=\"100%\"\r\n                        fontFamily=\"Work sans\"\r\n                        display=\"flex\"\r\n                        justifyContent={{ base: \"space-between\" }}\r\n                        alignItems=\"center\"\r\n                    >\r\n                        <IconButton\r\n                            display={{ base: \"flex\", md: \"none\" }}\r\n                            icon={<ArrowBackIcon />}\r\n                            onClick={() => setSelectedChat(\"\")}\r\n                        />\r\n                        {\"!!messages\" &&\r\n                            (!selectedChat.isGroupChat ? (\r\n                                <>\r\n                                    {getSender(user, selectedChat.users)}\r\n                                    <ProfileModal\r\n                                        user={getSenderFull(user, selectedChat.users)}\r\n                                    />\r\n                                </>\r\n                            ) : (\r\n                                <>\r\n                                    {selectedChat.chatName.toUpperCase()}\r\n                                    <UpdateGroupChatModal\r\n                                        fetchMessages={fetchMessages}\r\n                                        fetchAgain={fetchAgain}\r\n                                        setFetchAgain={setFetchAgain}\r\n                                    />\r\n                                </>\r\n                            ))}\r\n                    </Text>\r\n                    <Box\r\n                        display=\"flex\"\r\n                        flexDir=\"column\"\r\n                        justifyContent=\"flex-end\"\r\n                        p={3}\r\n                        bg=\"#E8E8E8\"\r\n                        w=\"100%\"\r\n                        h=\"100%\"\r\n                        borderRadius=\"lg\"\r\n                        overflowY=\"hidden\"\r\n                    >\r\n                        {loading ? (\r\n                            <Spinner\r\n                                size=\"xl\"\r\n                                w={20}\r\n                                h={20}\r\n                                alignSelf=\"center\"\r\n                                margin=\"auto\"\r\n                            />\r\n                        ) : (\r\n                            <div className=\"messages\">\r\n                                {/*<ScrollableChat messages={messages} />*/}\r\n                            </div>\r\n                        )}\r\n\r\n                        <FormControl\r\n                            // onKeyDown={sendMessage}\r\n                            id=\"first-name\"\r\n                            isRequired\r\n                            mt={3}\r\n                        >\r\n                            {istyping ? (\r\n                                <div>\r\n                                    {/*<Lottie*/}\r\n                                    {/*    options={defaultOptions}*/}\r\n                                    {/*    // height={50}*/}\r\n                                    {/*    width={70}*/}\r\n                                    {/*    style={{ marginBottom: 15, marginLeft: 0 }}*/}\r\n                                    {/*/>*/}\r\n                                </div>\r\n                            ) : (\r\n                                <></>\r\n                            )}\r\n                            <Input\r\n                                variant=\"filled\"\r\n                                bg=\"#E0E0E0\"\r\n                                placeholder=\"Enter a message..\"\r\n                                value={newMessage}\r\n                                // onChange={typingHandler}\r\n                            />\r\n                        </FormControl>\r\n                    </Box>\r\n                </>\r\n            ): (\r\n                // to get socket.io on same page\r\n                <Box display=\"flex\" alignItems=\"center\" justifyContent=\"center\" h=\"100%\">\r\n                    <Text fontSize=\"3xl\" pb={3} fontFamily=\"Work sans\">\r\n                        Click on a user to start chatting\r\n                    </Text>\r\n                </Box>\r\n            )}\r\n        </>\r\n    )\r\n}\r\nexport default SingleChat\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}